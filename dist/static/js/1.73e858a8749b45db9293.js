webpackJsonp([1],{"2TK0":function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".chat-box-list[data-v-1d6e3f24],.chat-box[data-v-1d6e3f24]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;list-style-type:none}.chat-box-list-container[data-v-1d6e3f24]{overflow-y:auto;scroll-behavior:smooth}.chat-box[data-v-1d6e3f24]{width:50%;height:80vh;border:1px solid #999;border-radius:4px;margin-left:10%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.chat-box-list[data-v-1d6e3f24]{margin-top:1rem;padding-left:1rem;padding-right:1rem;text-align:left}.chat-box-list li[data-v-1d6e3f24]{padding:.3rem;color:#fff}.chat-box-list div[data-v-1d6e3f24]{padding:.5rem;max-width:80%}.chat-box-list .server div[data-v-1d6e3f24]{float:left;background:green;border-radius:4px}.chat-box-list .client div[data-v-1d6e3f24]{float:right;background:blue;border-radius:4px}.chat-inputs[data-v-1d6e3f24]{display:-webkit-box;display:-ms-flexbox;display:flex}.chat-inputs input[data-v-1d6e3f24]{line-height:3;width:100%;border:1px solid #999;border-left:none;border-bottom:none;border-right:none;border-bottom-left-radius:4px;padding-left:1.5rem}.chat-inputs button[data-v-1d6e3f24]{width:8rem;color:#fff;background:#2d6ea7;border-bottom-right-radius:4px}.restart[data-v-1d6e3f24]{position:absolute;left:10%}.file[data-v-1d6e3f24]{position:absolute;left:20%}","",{version:3,sources:["/Users/mac/git/flask-vue-spa/frontend/src/components/ChatBox.vue"],names:[],mappings:"AACA,2DAEE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,oBAAsB,CACvB,AACD,0CACE,gBAAiB,AACjB,sBAAwB,CACzB,AACD,2BACE,UAAW,AACX,YAAa,AACb,sBAAuB,AACvB,kBAAmB,AACnB,gBAAiB,AACjB,yBAA0B,AACtB,sBAAuB,AACnB,6BAA+B,CACxC,AACD,gCACE,gBAAiB,AACjB,kBAAmB,AACnB,mBAAoB,AACpB,eAAiB,CAClB,AACD,mCACE,cAAgB,AAChB,UAAa,CACd,AACD,oCACE,cAAgB,AAChB,aAAe,CAChB,AACD,4CACE,WAAY,AACZ,iBAAkB,AAClB,iBAAmB,CACpB,AACD,4CACE,YAAa,AACb,gBAAiB,AACjB,iBAAmB,CACpB,AACD,8BACE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AACD,oCACE,cAAe,AACf,WAAY,AACZ,sBAAuB,AACvB,iBAAkB,AAClB,mBAAoB,AACpB,kBAAmB,AACnB,8BAA+B,AAC/B,mBAAqB,CACtB,AACD,qCACE,WAAY,AACZ,WAAa,AACb,mBAA8B,AAC9B,8BAAgC,CACjC,AACD,0BACE,kBAAmB,AACnB,QAAU,CACX,AACD,uBACE,kBAAmB,AACnB,QAAU,CACX",file:"ChatBox.vue",sourcesContent:["\n.chat-box[data-v-1d6e3f24],\n.chat-box-list[data-v-1d6e3f24] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  list-style-type: none;\n}\n.chat-box-list-container[data-v-1d6e3f24]{\n  overflow-y: auto;\n  scroll-behavior: smooth;\n}\n.chat-box[data-v-1d6e3f24] {\n  width: 50%;\n  height: 80vh;\n  border: 1px solid #999;\n  border-radius: 4px;\n  margin-left: 10%;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.chat-box-list[data-v-1d6e3f24] {\n  margin-top: 1rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  text-align: left;\n}\n.chat-box-list li[data-v-1d6e3f24] {\n  padding: 0.3rem;\n  color: white;\n}\n.chat-box-list div[data-v-1d6e3f24] {\n  padding: 0.5rem;\n  max-width: 80%;\n}\n.chat-box-list .server div[data-v-1d6e3f24]{\n  float: left;\n  background: green;\n  border-radius: 4px;\n}\n.chat-box-list .client div[data-v-1d6e3f24]{\n  float: right;\n  background: blue;\n  border-radius: 4px;\n}\n.chat-inputs[data-v-1d6e3f24] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.chat-inputs input[data-v-1d6e3f24] {\n  line-height: 3;\n  width: 100%;\n  border: 1px solid #999;\n  border-left: none;\n  border-bottom: none;\n  border-right: none;\n  border-bottom-left-radius: 4px;\n  padding-left: 1.5rem;\n}\n.chat-inputs button[data-v-1d6e3f24] {\n  width: 8rem;\n  color: white;\n  background: rgb(45, 110, 167);\n  border-bottom-right-radius: 4px;\n}\n.restart[data-v-1d6e3f24] {\n  position: absolute;\n  left: 10%;\n}\n.file[data-v-1d6e3f24] {\n  position: absolute;\n  left: 20%;\n}\n"],sourceRoot:""}])},CoCF:function(t,e,n){var a=n("2TK0");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("3814b1e9",a,!0,{})},ZUpB:function(t,e,n){"use strict";e.a={name:"ChatBox",data:function(){return{message:"",text:"",messages:[],sender_id:""}},mounted:function(){this.sender_id=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}(),console.log("generate sender id: "+this.sender_id)},methods:{sendMessage:function(){var t=this;""!=this.message&&(this.text=this.message,this.message="",this.messages.push({text:this.text,author:"client"}),console.log("client says: "),console.log(this.text),this.$nextTick(function(){t.$refs.chatbox.scrollTop=t.$refs.chatbox.scrollHeight}),this.$axios.post("http://1.117.208.226:5005/webhooks/rest/webhook",{message:this.text,sender:this.sender_id}).then(function(e){t.messages.push({text:e.data[0].text,author:"server"}),console.log("server says: "),console.log(e.data[0].text),t.$nextTick(function(){t.$refs.chatbox.scrollTop=t.$refs.chatbox.scrollHeight})}))},restart:function(){var t=this;this.$axios.post("http://localhost:5005/webhooks/rest/webhook",{message:"/restart",sender:"client"}).then(function(e){t.messages=[],t.$nextTick(function(){t.$refs.chatbox.scrollTop=t.$refs.chatbox.scrollHeight,t.sender_id=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}(),console.log("update sender id: "+t.sender_id)})})},upload:function(t){var e=t.target.files[0],n=new FormData;n.append("file",e),console.log(n.get("file")),this.$axios.post("http://127.0.0.1:5000/api/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})}}}},"h/H0":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",{staticClass:"chat-box"},[n("div",{ref:"chatbox",staticClass:"chat-box-list-container"},[n("ul",{staticClass:"chat-box-list"},t._l(t.messages,function(e,a){return n("li",{key:a,staticClass:"message",class:e.author},[n("div",[n("span",[t._v(t._s(e.text))])])])}),0)]),t._v(" "),n("div",{staticClass:"chat-inputs"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text"},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage.apply(null,arguments)},input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.sendMessage}},[t._v("Send")])])]),t._v(" "),n("button",{staticClass:"restart",on:{click:t.restart}},[t._v("restart")]),t._v(" "),n("input",{staticClass:"file",attrs:{name:"file",type:"file",accept:"image/png,image/gif,image/jpeg"},on:{change:t.upload}})])},o=[],s={render:a,staticRenderFns:o};e.a=s},xQW1:function(t,e,n){"use strict";function a(t){n("CoCF")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("ZUpB"),s=n("h/H0"),i=n("VU/8"),r=a,A=i(o.a,s.a,!1,r,"data-v-1d6e3f24",null);e.default=A.exports}});
//# sourceMappingURL=1.73e858a8749b45db9293.js.map